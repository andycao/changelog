<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
<constant name="struts.ui.theme" value="xhtml"/>  
<constant name="struts.enable.DynamicMethodInvocation" value="false" />
<constant name="struts.devMode" value="false" />
<constant name="struts.custom.i18n.resources" value="changelogRes" />    
<package name="default" namespace="/" extends="struts-default">
		<global-results>
			<result name="login">/login.jsp</result>
			<result name="exception">/error.jsp</result>
			<result name="index" type="redirectAction">index</result>
			<result name="input" type="redirect">welcome</result>
		</global-results>
		<action name="index">
			<result>/index.jsp</result>
		</action>
		<action name="welcome">
			<result>/show/welcome.jsp</result>
		</action>
    </package>
    <!-- user related actions -->
    <package name="user_actions" extends="default">
    	<action name="login" class="userAction" method="login">
			<result name="success" type="redirect">welcome</result>
			<result name="error">/login.jsp</result>
			<result name="multiuser">/error.jsp</result>
		</action>
		<action name="register" class="userAction" method="register">
			<result name="success" type="redirect">welcome</result>
			<result name="error">error.jsp</result>
			<result name="multiuser">/error.jsp</result>
		</action>
		<action name="logout" class="userAction" method="logout">
			<result type="redirect">index</result>
		</action>
    </package>
    
    <!-- add items actions -->
    <package name="changelog_actions" namespace="/func" extends="default">
    	<action name="addProject" class="projectActions" method="addProject">
    		<result name="success" type="redirect">/show/showAllProject</result>
    		<result name="error" >adderror.jsp</result>
    		<result name="input">addProject.jsp</result>
    	</action>
    	<action name="addProgram" class="programActions" method="addProgram">
    		<result name="success" type="redirect">/show/getProject</result>
    		<result name="error">adderror.jsp</result>
    		<result name="input">addProgram.jsp</result>
    	</action>
    	<action name="addVersion" class="versionActions" method="addVersion">
    		<result name="success" type="redirect">/show/getProgram</result>
    		<result name="error">adderror.jsp</result>
    		<result name="input">addVersion.jsp</result>
    	</action>
    	<action name="addChangelog" class="changeActions" method="addChangelog">
    		<result name="success" type="redirect">/show/getVersion</result>
    		<result name="error">adderror.jsp</result>
    		<result name="input">addChangelog.jsp</result>
    	</action>
    	
    	<action name="editProject" class="projectActions" method="editProject">
    		<result name="success" type="redirect">/show/getProject</result>
    		<result name="error">/func/delete_err.jsp</result>
    	</action>
    	<action name="editProgram" class="programActions" method="editProgram">
    		<result name="success" type="redirect">/show/getProgram</result>
    		<result name="error">/func/delete_err.jsp</result>
    	</action>
    	<action name="editVersion" class="versionActions" method="editVersion">
    		<result name="success" type="redirect">/show/getVersion</result>
    		<result name="error">/func/delete_err.jsp</result>
    	</action>
    	<action name="editChange" class="changeActions" method="editChange">
    		<result name="success" type="redirect">/show/getChange</result>
    		<result name="error">/func/delete_err.jsp</result>
    		<result name="usererror">/func/error_edit_user.jsp</result>
    	</action>
    </package>
    
    <!-- preadd action -->
	<package name="preAddActionPackage" namespace="/func" extends="default">
		<action name="preAddProgram" class="preAddActions" method="preAdd">
			<result name="success">addProgram.jsp</result>
		</action>
		<action name="preAddVersion" class="preAddActions" method="preAdd">
			<result name="success">addVersion.jsp</result>
		</action>
		<action name="preAddChange" class="preAddActions" method="preAdd">
			<result name="success">addChangelog.jsp</result>
		</action>
	</package>
	
	<!-- preEdit action -->
	<package name="preEditActionPackage" namespace="/func" extends="default">
		<action name="preEditProject" class="preEditActions" method="preEditProject">
			<result name="success">editProject.jsp</result>
		</action>
		<action name="preEditProgram" class="preEditActions" method="preEditProgram">
			<result name="success">editProgram.jsp</result>
		</action>
		<action name="preEditVersion" class="preEditActions" method="preEditVersion">
			<result name="success">editVersion.jsp</result>
		</action>
		<action name="preEditChange" class="preEditActions" method="preEditChange">
			<result name="success">editChange.jsp</result>
		</action>
	</package>
    <include file="./showActions.xml"/>
    <!-- Add packages here -->
</struts>
